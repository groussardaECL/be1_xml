<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/css" href="index.css"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">

    <head>
        <meta http-equiv="Content-Type" content="text/xml ; charset=UTF-8"/>
        <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css'/>
        <link href="https://fonts.googleapis.com/css?family=Bungee|Roboto" rel="stylesheet"/>
        <title>BE1-XML</title>
    </head>
    <body>
        <div class="container">
            <div id="holder-header">
                <div id="header" class="col-xs-12 col-md-12">
                    <div class="row">
                        <h1>Extensible Markup Language</h1>
                        <p>by CASTRES Benoit &amp; GROUSSARD Arnaud</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="main">
            <div class="container">
                <div class="col-xs-12 col-md-8">
                    <h3>Démarche suivie et raisonnement</h3>
                    <p>Ce BE constitue une première occasion d'utiliser XML dans le cadre d'un projet. Il s'agit ici de créer une application représentant les données d'une bibliothèque. Afin de réaliser cette application, nous allons dans un premier temps définir la structure arborescente de notre document XML. Il s'agira ensuite de peupler le document avec quelques données, tout en veillant à ce que celui-ci soit valide du point de vue de XML.</p>
                    <h3>Vocabulaire et structure</h3>
                    <p>La structure de la bibliothèque s'articule autour de 3 éléments principaux, descendants directes de l'élément racine <i>bibliotheque</i>. Les éléments <i>adherents</i>, <i>ouvrages</i> et <i>prets</i> sont respectivement les parents d'une multitude d'éléments <i>adherent</i>, <i>ouvrage</i> et <i>pret</i>.<span class="comment"> Nous avons pris les éléments nécessaires à l’identification des élément principaux de la bibliothèques, cette liste n’est bien sûre pas exhaustive.</span></p>
                    <img id="schema-structure" src="BE1_XML.png" alt="Structure du document XML"/>
                    <table class="table">
                        <thead>
                        <tr>
                            <th></th>
                            <th><b>adherent</b></th>
                            <th><b>ouvrage</b></th>
                            <th><b>pret</b></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                Attributs
                            </td>
                            <td>
                                <ul>
                                    <li>etatAdhesion</li>
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    <li>disponibilite</li>
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    <li>status</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Elements
                            </td>
                            <td>
                                <ul>
                                    <li>adherentID</li>
                                    <li>prenom</li>
                                    <li>nom</li>
                                    <li>age</li>
                                    <li>email</li>
                                    <li>telephone</li>
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    <li>ouvrageID</li>
                                    <li>ISBN</li>
                                    <li>titre</li>
                                    <li>auteur</li>
                                    <li>anneePublication</li>
                                    <li>editeur</li>
                                    <li>langue</li>
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    <li>pretID</li>
                                    <li>adherentID</li>
                                    <li>ouvrageID</li>
                                    <li>dateEmprunt</li>
                                    <li>dateRetourPrevue</li>
                                    <li>dateRetour</li>
                                </ul>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <p>L'une des grandes difficultés à laquelle nous avons été confrontés a été le choix entre attributs ou éléments. Nous avons finalement choisi de ne garder comme attributs que ce qui représente les états, qui seront variables. Ainsi, <i>etatAdhesion</i>, qui caractérise la validité de l'adhésion à la bibliothèque d'un des membres, <i>disponibilite</i> pour caractériser si un ouvrage est emprunté, et <i>statut</i> qui caractérise si un prêt est en cours, en retard, ou terminé.</p>
                    <p>Les autres données ont été caractérisées par des éléments balise.</p>
                    <h3>Création du document XML/XHTML et peuplement de données</h3>
                    <p>Nous avons commencé par créer le document XML en testant l'architecture qui nous avions précédemment avec un ou deux adhérents, ouvrages, et prêts. Nous avons ainsi découvert l'outil de validation XML du W3C. Nous avons passé plus de temps que prévu à comprendre les déclarations nécessaires avec les bonnes URI (XML, DOCTYPE, Encodage) au début du document XML et XHTML.</p>
                    <p>Pour accélérer notre peuplement du document XML, notamment des catégories <i>adherents</i> et <i>prets</i> nous avons utilisé un site de génération de données <a href="http://www.generatedata.com/">Generate Data</a>. Les données sur les <i>ouvrages</i> ont été créées à la main. Quelques problèmes ont dû être corrigés quand nous avons fusionnés les différentes catégories dans le document XML principal.<span class="comment"> Les données générées automatiquement posaient un problème de logique (notamment pour les dates) et de format pour être réutilisés correctement.</span></p>
                    <div class="wrap">
                        <div class="link-logo">
                            <a href="document.xml"><img class="img-thumbnail" src="file_xml.png" alt="DOCUMENT.XML"/><br/>Accéder au document XML</a>

                        </div>
                    </div>
                    <h3>Création de la feuille de style CSS pour le document XML</h3>
                    <p>Le document XML sans feuille de style s'affiche de manière relativement basique. Contrairement à HTML, il n'y a pas de mise en forme prédéfini pour un document XML, il faut donc réaliser la mise en forme pour tous les éléments du document, à partir de zéro.</p>
                    <p>Nous avons stylisé le document XML en le dupliquant et en rajoutant un lien vers une feuille de style externe.</p>
                    <p>Nous avons choisi de ne pas modifier notre document XML initial pour le faire correspondre à nos attentes et aux limitations de CSS.<span class="comment"> Ce choix a complexifié le travail sous CSS mais permet d'assurer l'intégrité des données et du document XML puisque les modifications concernant l'affichage se gère uniquement sur la feuille CSS.</span></p>
                    <div class="wrap">
                        <div class="link-logo1">
                            <a href="document_css.xml"><img class="img-thumbnail" src="file_xml2.png" alt="DOCUMENT_CSS.XML"/><br/>Document XML stylisé</a>
                        </div>
                        <div class="link-logo1">
                            <a href="document_css.css"><img class="img-thumbnail" src="file_css.png" alt="DOCUMENT_CSS.CSS"/><br/>Document CSS</a>
                        </div>
                    </div>
                    <p>Voici les limites que nous avons pu rencontrer</p>
                    <ul>
                        <li>Il n'est pas possible de réorganiser l'ordre des éléments avec une feuille de style CSS. L'ordre doit rester le même que celui défini au départ dans le document XML.</li>
                        <li>Pour créer des titres de sections, nous avons utilisé la commande CSS <i>content="titre à afficher"</i>. Cependant, cela ne nous semble pas optimal de stocker du contenu spécifique à ce document dans une feuille de style externe.</li>
                        <li>Nous n'avons pas non plus pu ajouter des titres de colonnes dans les tableaux que nous voulions faire, car les tableaux sont générés à partir des données du document XML.</li>
                        <li>Il ne nous pas été possible de stylisé les éléments différemment de l'endroit où ils apparaissaient dans le document XML. Le sélecteur pour <i>ouvrageID</i> ne peut pas être différencié entre <i>adherentID</i> dans la branche <i>adherents</i>, et <i>adherentID</i> dans la branche <i>prets</i>.</li>
                        <li>Le format du <i>content</i> est dépendant de du format du sélecteur. Ainsi, il nous a été impossible de mettre bien en forme le titre <i>Liste de prêts</i> car il est encadré de 2 blocs <i>display:"table";</i>.</li>
                        <li>Bien que la mise en forme conditionnelle soit possible avec le couple CSS+XML, le contenu conditionnel n'est pas possible.<br/>Par exemple, si un prêt est en cours ou en retard, afficher la date de retour prévue, et si le prêt a été rendu, afficher la date de retour effective. </li>
                    </ul>

                    <p>Voici les modifications que nous aurions pu effectuer sur le document XML pour nous rapprocher de la mise en forme initialement voulue :</p>
                <ul>
                    <li>Nous aurions pu réordonner les éléments à l'image de l'ordre que nous souhaitons voir être affiché.</li>
                    <li>Nous aurions pu ajouter une ligne comme première enfant de <i>ouvrages</i> et <i>prets</i>, pour décrire les labels des colonnes du tableau.</li>
                    <li>Nous aurions pu enrober, wrapper nos éléments <i>adherents</i>, <i>ouvrages</i> et <i>prets</i> avec un autre élément parent dans le seul but de pouvoir mettre en forme les titres de chaque jeu de données en s'affranchissant la forme (<i>display</i>) de ces éléments <i>adherents</i>, <i>ouvrages</i> et <i>prets</i>.</li>
                </ul>
                    <h3>Réalisation de la DTD</h3>
                    <p>La DTD nous permet d'ajouter des conditions supplémentaires sur les données acceptables pour chaque élément et préciser davantage leur structure et leur syntaxe. </p>
                    <div class="wrap">
                        <div class="link-logo1">
                            <a href="document3.xml"><img class="img-thumbnail" src="file_xml2.png" alt="DOCUMENT3.XML"/><br/>Document XML avec DTD</a>

                        </div>
                    </div>
                    <table class="table">
                        <thead>
                        <tr>
                            <th></th>
                            <th><b>adherent</b></th>
                            <th><b>ouvrage</b></th>
                            <th><b>pret</b></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                Attributs
                            </td>
                            <td>
                                <ul>
                                    <li>etatAdhesion<br/>requis, avec <i>Actif</i> ou <i>Terminé</i></li>
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    <li>disponibilite<br/>requis, avec <i>Disponible</i> ou <i>Resteinte</i></li>
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    <li>status<br/>requis, avec <i>Rendu</i>, <i>En_cours</i> ou <i>Retard</i></li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Elements
                            </td>
                            <td>
                                <ul>
                                    <li>adherentID, 1 seul</li>
                                    <li>prenom, 1 ou plusieurs</li>
                                    <li>nom, 1 seul</li>
                                    <li>age, 1 seul</li>
                                    <li>email, 0 ou plusieurs</li>
                                    <li>telephone, 0 ou plusieurs</li>
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    <li>ouvrageID, 1 seul</li>
                                    <li>ISBN, 1 ou plusieurs</li>
                                    <li>titre, 1 seul</li>
                                    <li>auteur, 1 ou plusieurs</li>
                                    <li>anneePublication, 1 seul</li>
                                    <li>editeur, 1 seul</li>
                                    <li>langue, 0 ou 1</li>
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    <li>pretID, 1 seul</li>
                                    <li>adherentID, 1 seul</li>
                                    <li>ouvrageID, 1 seul</li>
                                    <li>dateEmprunt, 1 seul</li>
                                    <li>dateRetourPrevue, 1 seul</li>
                                    <li>dateRetour, 0 ou 1</li>
                                </ul>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <p>Tous les éléments sont déclarés en tant que <i>Parsed Character Data</i> (<i>#PCDATA</i>).</p>
                </div>
                <div class="col-md-4 col-xs-12" >
                    <div class="side-menu">
                        <h3>
                            Raccourcis
                        </h3>
                        <div class="wrap">
                            <div class="link-logo2">
                                <div class="shortcut">
                                    <a href="document.xml"><img class="img-thumbnail" src="file_xml.png" alt="DOCUMENT.XML"/> Document XML brut</a>
                                </div>
                                <div class="shortcut">
                                    <a href="document_css.xml"><img class="img-thumbnail" src="file_xml2.png" alt="DOCUMENT_CSS.XML"/> Document XML stylisé</a>
                                </div>
                                <div class="shortcut">
                                    <a href="document_css.css"><img class="img-thumbnail" src="file_css.png" alt="DOCUMENT_CSS.CSS"/> Document CSS</a>
                                </div>
                                <div class="shortcut">
                                    <a href="document3.xml"><img class="img-thumbnail" src="file_xml2.png" alt="DOCUMENT3.XML"/> Document XML avec DTD</a>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>